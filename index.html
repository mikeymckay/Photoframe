<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

	<!--
		Supersized - Fullscreen Slideshow jQuery Plugin
		Version 3.1.3
		www.buildinternet.com/project/supersized
		
		By Sam Dunn / One Mighty Roar (www.onemightyroar.com)
		Released under MIT License / GPL License
	-->

	<head>

		<title>Supersized - Full Screen Background/Slideshow jQuery Plugin</title>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=8" />
		
		<link rel="stylesheet" href="css/supersized.css" type="text/css" media="screen" />
		
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.0/jquery.min.js"></script>
		<script type="text/javascript" src="js/supersized.3.1.3.min.js"></script>
		<script type="text/javascript" src="imageList.js"></script>
		
		<script type="text/javascript">  
			
			jQuery(function($){
        options = {
					//Functionality
					slideshow               :   1,		//Slideshow on/off
					autoplay				:	1,		//Slideshow starts playing automatically
					start_slide             :   1,		//Start slide (0 is random)
					random					: 	1,		//Randomize slide order (Ignores start slide)
					slide_interval          :   60000,	//Length between transitions
					transition              :   1, 		//0-None, 1-Fade, 2-Slide Top, 3-Slide Right, 4-Slide Bottom, 5-Slide Left, 6-Carousel Right, 7-Carousel Left
					transition_speed		:	1000,	//Speed of transition
					new_window				:	1,		//Image links open in new window/tab
					pause_hover             :   0,		//Pause slideshow on hover
					keyboard_nav            :   1,		//Keyboard navigation on/off
					performance				:	1,		//0-Normal, 1-Hybrid speed/quality, 2-Optimizes image quality, 3-Optimizes transition speed // (Only works for Firefox/IE, not Webkit)
					image_protect			:	1,		//Disables image dragging and right click with Javascript
					image_path				:	'img/', //Default image path

					//Size & Position
					min_width		        :   0,		//Min width allowed (in pixels)
					min_height		        :   0,		//Min height allowed (in pixels)
					vertical_center         :   1,		//Vertically center background
					horizontal_center       :   1,		//Horizontally center background
					fit_portrait         	:   1,		//Portrait images will not exceed browser height
					fit_landscape			:   0,		//Landscape images will not exceed browser width
					
					//Components
					navigation              :   1,		//Slideshow controls on/off
					thumbnail_navigation    :   1,		//Thumbnail navigation
					slide_counter           :   1,		//Display slide numbers
					slide_captions          :   1,		//Slide caption (Pull from "title" in slides array)
												
        }; 
        options.slides = imageList;
        $.supersized(options)
		  });
		    
		</script>
		
		<style type="text/css">
		
		
    /*Demo Styles*/
    p{ padding:0 30px 30px 30px; color:#fff; font:11pt "Helvetica Neue", "Helvetica", Arial, sans-serif; text-shadow: #000 0px 1px 0px; line-height:200%; }
      p a{ font-size:10pt; text-decoration:none; outline: none; color:#ddd; background:#222; border-top:1px solid #333; padding:5px 8px; -moz-border-radius:3px; -webkit-border-radius:3px; border-radius:3px; -moz-box-shadow: 0px 1px 1px #000; -webkit-box-shadow: 0px 1px 1px #000; box-shadow: 0px 1px 1px #000; }
        p a:hover{ background-color:#427cb4; border-color:#5c94cb; color:#fff; }
    h3{ padding:30px 30px 20px 30px; }
    
    #content{ position:absolute; top:50px; left:50px; background:#111; background:rgba(0,0,0,0.65); text-align:left; }
    .stamp{ float: right; margin: 15px 30px 0 0;}

  #content{
    padding:5px 30px; color:#fff; font:18pt "Helvetica Neue", "Helvetica", Arial, sans-serif; text-shadow: #000 0px 1px 0px; line-height:200%; 
  }
	</style>
		
	</head>

<body>		

    <div id='nursery'>
    </div>

    <div id="content">
      <p>
        <div id='time'></div>
        <img id='camPhoto' style='width:200px' src='http://192.168.1.84/snapshot.cgi?user=admin&password=asd'>
<!--
        <div id='bus'>
          <div>
            42:<span id='42'></span>
          </div>
          <div>
            43:<span id='43'></span>
          </div>
        </div>
        <div>
          Bikes:<span id='Bikes'></span>
        </div>
-->
      </p>
<div style='width: 120px; height: 60px; background-image: url( http://vortex.accuweather.com/adcbin/netweather_v2/backgrounds/black_120x60_bg.jpg ); background-repeat: no-repeat; background-color: #000000;' ><div id='NetweatherContainer' style='height: 48px;' ><script src='http://netweather.accuweather.com/adcbin/netweather_v2/netweatherV2ex.asp?partner=netweather&tStyle=whteYell&logo=0&zipcode=20010&lang=&size=7&theme=black&metric=&target=_self'></script></div><div style='text-align: center; font-family: arial, helvetica, verdana, sans-serif; font-size: 10px; line-height: 12px; color: #FFFFFF;' ></div></div>

    </div>

<!--
  <div id="prevthumb"></div>
  <div id="nextthumb"></div>
  -->

</body>
  <script type='text/javascript'>
    cbfunc42 = function (data){
      $('#42').html(data.query.results.p.join(", "))
    }
    cbfunc43 = function (data){
      try{
        $('#43').html(data.query.results.p.join(", "))
      }
      catch(error){
      }
    }
    cbfuncBikes = function (data){
      var station, _i, _len, _results, stationData;
      stationDataById = {};
      stationData = data.query.results.stations.station;
      _results = [];
      for (_i = 0, _len = stationData.length; _i < _len; _i++) {
        station = stationData[_i];
        _results.push(stationDataById[station.id] = station);
      }
      $('#Bikes').html("&nbsp;" + stationDataById[21].nbBikes)
    }
    updateData = function (){
      //select * from html where url="http://wmata.nextbus.com/customStopSelector/fancyNewPredictionLayer.jsp?a=wmata&r=42&d=42_42_0&s=7155&ts=5961" and xpath="//div[@class='firstPrediction']/p|//div[@class='secondaryPredictions']/p"
      url42 = "http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20html%20where%20url%3D%22http%3A%2F%2Fwmata.nextbus.com%2FcustomStopSelector%2FfancyNewPredictionLayer.jsp%3Fa%3Dwmata%26r%3D42%26d%3D42_42_0%26s%3D7155%26ts%3D5961%22%20and%20xpath%3D%22%2F%2Fdiv%5B%40class%3D'firstPrediction'%5D%2Fp%7C%2F%2Fdiv%5B%40class%3D'secondaryPredictions'%5D%2Fp%22&format=json&callback=cbfunc42"
      url43 = "http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20html%20where%20url%3D%22http%3A%2F%2Fwmata.nextbus.com%2FcustomStopSelector%2FfancyNewPredictionLayer.jsp%3Fa%3Dwmata%26r%3D43%26d%3D43_43_0%26s%3D7155%26ts%3D5961%22%20and%20xpath%3D%22%2F%2Fdiv%5B%40class%3D'firstPrediction'%5D%2Fp%7C%2F%2Fdiv%5B%40class%3D'secondaryPredictions'%5D%2Fp%22&format=json&callback=cbfunc43"
      urlBikes ="http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20xml%20where%20url%3D'http%3A%2F%2Fwww.capitalbikeshare.com%2Fstations%2FbikeStations.xml'&format=json&diagnostics=true&callback=cbfuncBikes"

      $('body').append('<script src="' + url42 + ' + "/>');
      $('body').append('<script src="' + url43 + ' + "/>');
      $('body').append('<script src="' + urlBikes + ' + "/>');

      hour = (new Date().getHours());
      if(hour < 6 || hour > 10){
        $("#bus").hide()
      }
      $("#time").html((new Date()).toTimeString().replace(/(\d+:\d+).*/,"$1"))
    }

    updateCamPhoto = function(){
        $("#camPhoto").attr("src","http://192.168.1.84/snapshot.cgi?user=admin&password=asd&" + new Date().getTime())

    }

    // Every 2 seconds
    setInterval(updateCamPhoto,2*1000)

    // Every 30 seconds
    setInterval(updateData,30*1000)

    // Every hour
    setTimeout("location.reload(true);",60*60*1000)


  </script>
</html>
